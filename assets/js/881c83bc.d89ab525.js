(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8604],{65127:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return L},frontMatter:function(){return R},metadata:function(){return E},toc:function(){return P}});var n={};r.r(n),r.d(n,{default:function(){return S},"\u6295\u5165\u4ea7\u51fa\u5206\u6790\u8868\u683c":function(){return x}});var a,o,l=r(7560),i=r(98283),s=r(2784),c=r(30876),d=r(73182),u=r(73890),f=r(88257),h=r(9988),p=r(46173),m=r(1100),b=r(48713),g=r(52275),v=g.ZP.div(a||(a=(0,d.Z)(["\n  margin-bottom: 16px;\n  font-size: 16px;\n  color: var(--ifm-color-danger-dark);\n"])));var y=f.Z.array({align:"right",render:m.ratio,width:100,features:f.Z.object({pbp:!0,dateOrder:f.Z.number})}),k=g.ZP.div(o||(o=(0,d.Z)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  cursor: pointer;\n  padding-right: 12px;\n  user-select: none;\n\n  &:hover {\n    background: var(--ifm-color-emphasis-300);\n  }\n"])));function w(e){if(e<0)return{style:{background:"#f9cace"}}}function j(e,t,r){return t.render(e,t,r)}var S={title:"\u4e1a\u52a1\u793a\u4f8b / \u6295\u5165\u4ea7\u51fa\u5206\u6790\u8868\u683c"};function x(){var e=(0,s.useMemo)((function(){return function(){for(var e,t=[],r=function(){var e=[300,400,500,600];return e[Math.floor(Math.random()*e.length)]},n=function(){var e=[400,500,600,800];return e[Math.floor(Math.random()*e.length)]},a=function(){var e=[100,200,300,500];return e[Math.floor(Math.random()*e.length)]},o=function(){var e=[100,200,300];return e[Math.floor(Math.random()*e.length)]},l=1;l<=11;l++){for(var i={stat_date:"3\u6708"+l+"\u53f7",pbp_rate_stage1:.4,pbp_rate_stage2:.5,pbp_rate_stage3:.6},s=1;s<=10;s++)s+l<=11&&(i["pbp_rate_day"+s]=(e=void 0,(e=[.3,.4,.5,.6])[Math.floor(Math.random()*e.length)]),i["app_trd_amt_day"+s]=r(),i["pos_trd_amt_day"+s]=n(),i["market_cost_day"+s]=a(),i["net_profit_day"+s]=o());t.push(i)}return t}()}),[]),t=f.Z.array({width:100,align:"right"}),r=t([{lock:!0,code:"stat_date",name:"\u65e5\u671f"},{name:"\u9636\u6bb5\u60c5\u51b5",align:"left",children:t([{code:"pbp_rate_stage1",name:"\u9636\u6bb51\u56de\u672c\u7387",render:m.ratio},{code:"pbp_rate_stage2",name:"\u9636\u6bb52\u56de\u672c\u7387",render:m.ratio},{code:"pbp_rate_stage3",name:"\u9636\u6bb53\u56de\u672c\u7387",render:m.ratio}])},{name:"\u5206\u65e5\u60c5\u51b5",align:"left",children:y([{code:"pbp_rate_day1",name:"\u7b2c1\u5929\u56de\u672c\u7387",features:{dateOrder:1}},{code:"pbp_rate_day2",name:"\u7b2c2\u5929\u56de\u672c\u7387",features:{dateOrder:2}},{code:"pbp_rate_day3",name:"\u7b2c3\u5929\u56de\u672c\u7387",features:{dateOrder:3}},{code:"pbp_rate_day4",name:"\u7b2c4\u5929\u56de\u672c\u7387",features:{dateOrder:4}},{code:"pbp_rate_day5",name:"\u7b2c5\u5929\u56de\u672c\u7387",features:{dateOrder:5}},{code:"pbp_rate_day6",name:"\u7b2c6\u5929\u56de\u672c\u7387",features:{dateOrder:6}},{code:"pbp_rate_day7",name:"\u7b2c7\u5929\u56de\u672c\u7387",features:{dateOrder:7}},{code:"pbp_rate_day8",name:"\u7b2c8\u5929\u56de\u672c\u7387",features:{dateOrder:8}},{code:"pbp_rate_day9",name:"\u7b2c9\u5929\u56de\u672c\u7387",features:{dateOrder:9}},{code:"pbp_rate_day10",name:"\u7b2c10\u5929\u56de\u672c\u7387",features:{dateOrder:10}}])}]),n=(0,h.Z)({dataSource:e,columns:r},(0,p.Z)((function(e){var t;return null!=(t=e.features)&&t.pbp?Object.assign({},e,{getCellProps:function(){return{style:{padding:0}}},render:function(t,r){return function(e,t,r){if(isNaN(e)||null==e)return null;var n=t.features.dateOrder,a=function(e,t,a){var o=r[e+"day"+n],l=r[e+"day"+(n-1)];return{name:t,current:o,left1:l,left2:r[e+"day"+(n-2)],lfl:(o-l)/l,render:a}},o=a("pbp_rate_","\u56de\u672c\u7387",m.ratio),l=a("app_trd_amt_","\u7ebf\u4e0aGMV",m.amount),i=a("pos_trd_amt_","\u7ebf\u4e0bGMV",m.amount),c=a("market_cost_","\u8425\u9500\u8d39\u7528",m.amount),d=a("net_profit_","\u51c0\u5229\u989d",m.amount),f={name:"\u7b2c"+n+"\u5929",code:"current",align:"right",getCellProps:w,render:j},h={name:"\u7b2c"+(n-1)+"\u5929",code:"left1",align:"right",getCellProps:w,render:j},p={name:"\u7b2c"+(n-2)+"\u5929",code:"left2",align:"right",getCellProps:w,render:j},g={name:"\u5bf9\u6bd4\u7b2c"+(n-1)+"\u5929",code:"lfl",align:"right",render:m.lfl},v=[o,l,i,c,d];return s.createElement(u.Z,{trigger:s.createElement(k,null,(0,m.ratio)(e)),closable:!1,triggerType:"click",style:{maxWidth:"none",width:500,background:"var(--ifm-color-emphasis-0)",border:"1px solid var(--ifm-color-emphasis-200)"}},s.createElement(b.D,{columns:[{name:"\u660e\u7ec6",code:"name"},{name:r.stat_date+" \u7b2c"+n+"\u5929",align:"center",children:[f,n>=2&&g].filter(Boolean)},n>=2&&h,n>=3&&p].filter(Boolean),dataSource:v}))}(t,e,r)}}):e})));return s.createElement("div",null,s.createElement(v,null,"\u4ea4\u4e92\u63d0\u793a\uff1a\u70b9\u51fb\u5206\u65e5\u60c5\u51b5\u5355\u5143\u683c \u67e5\u770b\u8be6\u7ec6\u6570\u636e"),s.createElement(b.D,{columns:n.columns,dataSource:n.dataSource}))}var Z=r(88889),R={id:"ROI-analysis-table",title:"\u6295\u5165\u4ea7\u51fa\u5206\u6790\u8868\u683c",hide_table_of_contents:!0,hide_title:!0},E={unversionedId:"biz/ROI-analysis-table",id:"biz/ROI-analysis-table",isDocsHomePage:!1,title:"\u6295\u5165\u4ea7\u51fa\u5206\u6790\u8868\u683c",description:"",source:"@site/examples/biz/ROI-analysis-table.mdx",sourceDirName:"biz",slug:"/biz/ROI-analysis-table",permalink:"/examples/biz/ROI-analysis-table",editUrl:"https://github.com/alibaba/ali-react-table/edit/master/packages/website/examples/biz/ROI-analysis-table.mdx",version:"current",frontMatter:{id:"ROI-analysis-table",title:"\u6295\u5165\u4ea7\u51fa\u5206\u6790\u8868\u683c",hide_table_of_contents:!0,hide_title:!0},sidebar:"sidebar",previous:{title:"\u7528\u6237\u7559\u5b58\u77e9\u9635",permalink:"/examples/biz/remain-matrix"},next:{title:"\u652f\u6301\u4e0b\u94bb\u7684\u6811\u72b6\u8868\u683c",permalink:"/examples/others/drill-tree-table"}},P=[],H={toc:P};function L(e){var t=e.components,r=(0,i.Z)(e,["components"]);return(0,c.kt)("wrapper",(0,l.Z)({},H,r,{components:t,mdxType:"MDXLayout"}),(0,c.kt)(Z.f,{stories:n,path:"biz/ROI-analysis-table.stories.tsx",mdxType:"Stories"}))}L.isMDXComponent=!0},69979:function(e,t,r){"use strict";var n=r(2784),a=r(31263);t.Z=function(e){var t=e.children,r=e.fallback;return a.Z.canUseDOM&&null!=t?n.createElement(n.Fragment,null,t()):r||null}},77172:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var n=function(){function e(){Object.defineProperty(this,"rects",{enumerable:!0,configurable:!0,writable:!0,value:[]})}var t=e.prototype;return t.testSkip=function(e,t){return this.rects.some((function(r){var n=r.left,a=r.right,o=r.top,l=r.bottom;return n<=t&&t<a&&o<=e&&e<l}))},t.stripUpwards=function(e){this.rects=this.rects.filter((function(t){return t.bottom>e}))},t.add=function(e,t,r,n){this.rects.push({left:t,right:t+r,top:e,bottom:e+n})},e}()},78542:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(2784),a=r(29929),o=n.memo((function(){return n.createElement("svg",{style:{margin:"auto",display:"block",width:40,height:40},viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},n.createElement("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#23a7fa",strokeDasharray:"188 64",strokeLinecap:"round",strokeWidth:"10"},n.createElement("animateTransform",{attributeName:"transform",dur:"1.5s",keyTimes:"0;1",repeatCount:"indefinite",type:"rotate",values:"0 50 50;360 50 50"})))}));function l(e){var t=e.children,r=e.visible;return n.createElement("div",{className:"art-loading-content-wrapper",style:{filter:r?"blur(1px)":"none"}},t)}function i(e){var t=e.visible,r=e.children,i=e.LoadingContentWrapper,s=void 0===i?l:i,c=e.LoadingIcon,d=void 0===c?o:c;return n.createElement("div",{className:a.PZ.loadingWrapper},t&&n.createElement("div",{className:a.PZ.loadingIndicatorWrapper},n.createElement("div",{className:a.PZ.loadingIndicator},n.createElement(d,null))),n.createElement(s,{visible:t,children:r}))}},29929:function(e,t,r){"use strict";r.d(t,{Yx:function(){return i},PZ:function(){return s},Ou:function(){return b}});var n,a,o=r(73182),l=r(52275),i=20,s={artTableWrapper:"art-table-wrapper",artTable:"art-table",tableHeader:"art-table-header",tableBody:"art-table-body",tableFooter:"art-table-footer",tableRow:"art-table-row",tableHeaderRow:"art-table-header-row",tableCell:"art-table-cell",tableHeaderCell:"art-table-header-cell",virtualBlank:"art-virtual-blank",stickyScroll:"art-sticky-scroll",stickyScrollItem:"art-sticky-scroll-item",horizontalScrollContainer:"art-horizontal-scroll-container",lockShadowMask:"art-lock-shadow-mask",lockShadow:"art-lock-shadow",leftLockShadow:"art-left-lock-shadow",rightLockShadow:"art-right-lock-shadow",emptyWrapper:"art-empty-wrapper",loadingWrapper:"art-loading-wrapper",loadingIndicatorWrapper:"art-loading-indicator-wrapper",loadingIndicator:"art-loading-indicator"},c=5,d=15,u=10,f=20,h=30,p=40,m=(0,l.iv)(n||(n=(0,o.Z)(["\n  border-top: var(--cell-border-horizontal);\n  border-right: var(--cell-border-vertical);\n  border-bottom: var(--cell-border-horizontal);\n  border-left: var(--cell-border-vertical);\n\n  td.first,\n  th.first {\n    border-left: none;\n  }\n  td.last,\n  th.last {\n    border-right: none;\n  }\n\n  thead tr.first th,\n  tbody tr.first td {\n    border-top: none;\n  }\n  &.has-footer tfoot tr.last td {\n    border-bottom: none;\n  }\n  &:not(.has-footer) tbody tr.last td {\n    border-bottom: none;\n  }\n"]))),b=l.ZP.div(a||(a=(0,o.Z)(["\n  --row-height: 48px;\n  --color: #333;\n  --bgcolor: white;\n  --hover-bgcolor: var(--hover-color, #f5f5f5);\n  --highlight-bgcolor: #eee;\n\n  --header-row-height: 32px;\n  --header-color: #5a6c84;\n  --header-bgcolor: #e9edf2;\n  --header-hover-bgcolor: #ddd;\n  --header-highlight-bgcolor: #e4e8ed;\n\n  --cell-padding: 8px 12px;\n  --font-size: 12px;\n  --line-height: 1.28571;\n  --lock-shadow: rgba(152, 152, 152, 0.5) 0 0 6px 2px;\n\n  --border-color: #dfe3e8;\n  --cell-border: 1px solid var(--border-color);\n  --cell-border-horizontal: var(--cell-border);\n  --cell-border-vertical: var(--cell-border);\n  --header-cell-border: 1px solid var(--border-color);\n  --header-cell-border-horizontal: var(--header-cell-border);\n  --header-cell-border-vertical: var(--header-cell-border);\n\n  box-sizing: border-box;\n  * {\n    box-sizing: border-box;\n  }\n  cursor: default;\n  color: var(--color);\n  font-size: var(--font-size);\n  line-height: var(--line-height);\n  position: relative;\n  overflow-anchor: none;\n\n  // \u8868\u683c\u5916\u8fb9\u6846\u7531 art-table-wrapper \u63d0\u4f9b\uff0c\u800c\u4e0d\u662f\u7531\u5355\u5143\u683c\u63d0\u4f9b\n  &.use-outer-border {\n    ",";\n  }\n\n  .no-scrollbar {\n    ::-webkit-scrollbar {\n      display: none;\n    }\n  }\n\n  ."," {\n    overflow-x: auto;\n    overflow-y: hidden;\n    background: var(--header-bgcolor);\n  }\n\n  .",", ."," {\n    overflow-x: auto;\n    overflow-y: hidden;\n    background: var(--bgcolor);\n  }\n\n  &.sticky-header ."," {\n    position: sticky;\n    top: 0;\n    z-index: ",";\n  }\n\n  &.sticky-footer ."," {\n    position: sticky;\n    bottom: 0;\n    z-index: ",";\n  }\n\n  table {\n    width: 100%;\n    table-layout: fixed;\n    border-collapse: separate;\n    border-spacing: 0;\n    display: table;\n    margin: 0;\n    padding: 0;\n  }\n\n  // \u5728 tr \u4e0a\u8bbe\u7f6e .no-hover \u53ef\u4ee5\u7981\u7528\u9f20\u6807\u60ac\u505c\u6548\u679c\n  tr:not(.no-hover):hover > td {\n    background: var(--hover-bgcolor);\n  }\n  // \u5728 tr \u8bbe\u7f6e highlight \u53ef\u4ee5\u4e3a\u5e95\u4e0b\u7684 td \u8bbe\u7f6e\u4e3a\u9ad8\u4eae\u8272\n  // \u800c\u8bbe\u7f6e .no-highlight \u7684\u8bdd\u5219\u53ef\u4ee5\u7981\u7528\u9ad8\u4eae\u6548\u679c\uff1b\n  tr:not(.no-highlight).highlight > td {\n    background: var(--highlight-bgcolor);\n  }\n\n  th {\n    font-weight: normal;\n    text-align: left;\n    padding: var(--cell-padding);\n    height: var(--header-row-height);\n    color: var(--header-color);\n    background: var(--header-bgcolor);\n    border: none;\n    border-right: var(--header-cell-border-vertical);\n    border-bottom: var(--header-cell-border-horizontal);\n  }\n  tr.first th {\n    border-top: var(--header-cell-border-horizontal);\n  }\n  th.first {\n    border-left: var(--header-cell-border-vertical);\n  }\n\n  td {\n    padding: var(--cell-padding);\n    background: var(--bgcolor);\n    height: var(--row-height);\n    border: none;\n    border-right: var(--cell-border-vertical);\n    border-bottom: var(--cell-border-horizontal);\n  }\n  td.first {\n    border-left: var(--cell-border-vertical);\n  }\n  tr.first td {\n    border-top: var(--cell-border-horizontal);\n  }\n  &.has-header tbody tr.first td {\n    border-top: none;\n  }\n  &.has-footer tbody tr.last td {\n    border-bottom: none;\n  }\n\n  .lock-left,\n  .lock-right {\n    z-index: ",";\n  }\n\n  //#region \u9501\u5217\u9634\u5f71\n  ."," {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    z-index: ",";\n    pointer-events: none;\n    overflow: hidden;\n\n    ."," {\n      height: 100%;\n    }\n\n    ."," {\n      margin-right: ","px;\n      box-shadow: none;\n\n      &.show-shadow {\n        box-shadow: var(--lock-shadow);\n        border-right: var(--cell-border-vertical);\n      }\n    }\n\n    ."," {\n      margin-left: ","px;\n      box-shadow: none;\n\n      &.show-shadow {\n        box-shadow: var(--lock-shadow);\n        border-left: var(--cell-border-vertical);\n      }\n    }\n  }\n  //#endregion\n\n  //#region \u7a7a\u8868\u683c\u5c55\u73b0\n  ."," {\n    pointer-events: none;\n    color: #99a3b3;\n    font-size: 12px;\n    text-align: center;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n\n    .empty-image {\n      width: 50px;\n      height: 50px;\n    }\n\n    .empty-tips {\n      margin-top: 16px;\n      line-height: 1.5;\n    }\n  }\n  //#endregion\n\n  //#region \u7c98\u6027\u6eda\u52a8\u6761\n  ."," {\n    overflow: auto;\n    position: sticky;\n    bottom: 0;\n    z-index: ",";\n    margin-top: -17px;\n  }\n\n  ."," {\n    // \u5fc5\u987b\u6709\u9ad8\u5ea6\u624d\u80fd\u51fa\u73b0\u6eda\u52a8\u6761\n    height: 1px;\n    visibility: hidden;\n  }\n  //#endregion\n\n  //#region \u52a0\u8f7d\u6837\u5f0f\n  ."," {\n    position: relative;\n\n    ."," {\n      position: absolute;\n      left: 0;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      pointer-events: none;\n    }\n\n    ."," {\n      position: sticky;\n      z-index: ",";\n      transform: translateY(-50%);\n    }\n  }\n  //#endregion\n"])),m,s.tableHeader,s.tableBody,s.tableFooter,s.tableHeader,d,s.tableFooter,u,c,s.lockShadowMask,f,s.lockShadow,s.leftLockShadow,i,s.rightLockShadow,i,s.emptyWrapper,s.stickyScroll,h,s.stickyScrollItem,s.loadingWrapper,s.loadingIndicatorWrapper,s.loadingIndicator,p)},99714:function(e,t,r){"use strict";r.d(t,{D:function(){return xe}});var n=r(18021),a=r(73989),o=r(35307),l=r(72779),i=r.n(l),s=r(2784),c=r(88815),d=r(64580),u=r(95344),f=r(54582),h=r(84061),p=r(42956),m=r(3747),b=r(92188),g=r(91008),v=r(30872),y=r(33314),k=r(72730),w=r(48296),j=r(58342),S=r(86542),x=r(2498),Z=r(20646),R=r(45802),E="v3"===(null!=r(52275).vJ?"v5":"v3")?"innerRef":"ref",P=100;function H(e){var t=0;return e.forEach((function(e){t+=e})),t}var L,z=(0,S.P)((function(){return(0,x.R)(window,"resize",{passive:!0}).pipe((0,R.p)(150,Z.z,{leading:!0,trailing:!0}))}));function O(){var e=document.createElement("div");e.style.position="absolute",e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth,r=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),{width:t,height:r}}function I(e,t){var r=new Set;for(var a,o=new c.w,l=function(){var l=a.value,i=function(){if(r.has(l))r.delete(l);else{var a=l.scrollLeft;!function(t,a){r.clear();for(var o,l=(0,n.Z)(e);!(o=l()).done;){var i=o.value;i!==t&&(i.scrollLeft=a,r.add(i))}}(l,a),t(a)}};l.addEventListener("scroll",i,{passive:!0}),o.add((function(){return l.removeEventListener("scroll",i)}))},i=(0,n.Z)(e);!(a=i()).done;)l();return o}function T(e,t){var r=Object.prototype.hasOwnProperty;if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var o=0;o<n.length;o++)if(!r.call(t,n[o])||!Object.is(e[n[o]],t[n[o]]))return!1;return!0}function M(e,t){return null==e||"auto"===e?t:e}var _=!1;function C(e){_||(_=!0,console.warn("[ali-react-table] column.hidden \u5df2\u7ecf\u8fc7\u65f6\uff0c\u5982\u679c\u9700\u8981\u9690\u85cf\u8be5\u5217\uff0c\u8bf7\u5c06\u5176\u4ece columns \u6570\u7ec4\u4e2d\u79fb\u9664",e))}function B(e){for(var t,r=0,a=(0,n.Z)(e);!(t=a()).done;){if(!o(t.value))break;r+=1}return r;function o(e){return(0,w.Z)(e)?e.lock:e.lock||e.children.some(o)}}function N(e){var t,r,a,o=e.state,l=o.offsetX,i=o.maxRenderWidth,s=e.props,c=s.useVirtual,d=s.columns,u=s.dataSource,f=function(e,t){return null!=e&&Array.isArray(e)||(console.warn("[ali-react-table] <BaseTable /> props.columns \u9700\u8981\u4f20\u5165\u4e00\u4e2a\u6570\u7ec4",e),e=[]),function e(r){for(var a,o=[],l=(0,n.Z)(r);!(a=l()).done;){var i=a.value;if(null==i.width&&null!=t&&(i=Object.assign({},i,{width:t})),(0,w.Z)(i))i.hidden?C(i):o.push(i);else{var s=e(i.children);s.length>0&&o.push(Object.assign({},i,{children:s}))}}return o}(e)}(d,s.defaultColumnWidth),h=B(f),p=(0,j.Z)(f,"leaf-only");if(h===f.length)t={left:[],right:[],full:p,center:p},r={left:[],right:[],full:f,center:f},a={horizontal:!1,vertical:!1,header:!1};else{var m=f.slice(0,h),b=B(f.slice().reverse()),g=f.slice(h,f.length-b),v=f.slice(f.length-b),y=p.length>=100&&p.every((function(e){return null!=e.width})),k=u.length>=100;a={horizontal:M("object"==typeof c?c.horizontal:c,y),vertical:M("object"==typeof c?c.vertical:c,k),header:M("object"==typeof c?c.header:c,!1)},t={left:(0,j.Z)(m,"leaf-only"),full:p,right:(0,j.Z)(v,"leaf-only"),center:(0,j.Z)(g,"leaf-only")},r={left:m,full:f,right:v,center:g}}for(var S=function(e){var t=e.offsetX,r=e.maxRenderWidth,n=e.flat;if(!e.useVirtual.horizontal)return{leftIndex:0,leftBlank:0,rightIndex:n.full.length,rightBlank:0};for(var a=0,o=0,l=0,i=0,s=Math.max(0,t-P);a<n.center.length;){var c=n.center[a];if(!(c.width+l<s))break;a+=1,l+=c.width}for(var d=r+(s-l)+200;a+o<n.center.length;){var u=n.center[a+o];if(!(u.width+i<d))break;i+=u.width,o+=1}var f=n.center.length-a-o;return{leftIndex:a,leftBlank:l,rightIndex:a+o,rightBlank:H(n.center.slice(n.center.length-f).map((function(e){return e.width})))}}({maxRenderWidth:i,offsetX:l,useVirtual:a,flat:t}),x=e.getVerticalRenderRange(a),Z=S.leftBlank,R=S.leftIndex,E=S.rightBlank,L=S.rightIndex,z=[].concat(t.left.map((function(e,t){return{type:"normal",col:e,colIndex:t}})),[Z>0&&{type:"blank",blankSide:"left",width:Z}],t.center.slice(R,L).map((function(e,r){return{type:"normal",col:e,colIndex:t.left.length+R+r}})),[E>0&&{type:"blank",blankSide:"right",width:E}],t.right.map((function(e,r){return{type:"normal",col:e,colIndex:t.full.length-t.right.length+r}}))).filter(Boolean),O=t.full.length,I=t.left.length,T=t.right.length,_=new Map,N=0,W=0;W<I;W++)_.set(W,N),N+=t.full[W].width;for(var D=new Map,Y=0,F=0;F<T;F++)D.set(O-1-F,Y),Y+=t.full[O-1-F].width;var U=H(t.left.map((function(e){return e.width}))),V=H(t.right.map((function(e){return e.width})));return{horizontalRenderRange:S,verticalRenderRange:x,visible:z,flat:t,nested:r,useVirtual:a,stickyLeftMap:_,stickyRightMap:D,leftLockTotalWidth:U,rightLockTotalWidth:V,hasLockColumn:r.left.length>0||r.right.length>0}}function W(e){var t=e.descriptors;return s.createElement("colgroup",null,t.map((function(e){return"blank"===e.type?s.createElement("col",{key:e.blankSide,style:{width:e.width}}):s.createElement("col",{key:e.colIndex,style:{width:e.col.width}})})))}var D=r(29929),Y=s.memo((function(){return s.createElement(s.Fragment,null,s.createElement("img",{alt:"empty-image",className:"empty-image",src:"//img.alicdn.com/tfs/TB1l1LcM3HqK1RjSZJnXXbNLpXa-50-50.svg"}),s.createElement("div",{className:"empty-tips"},"\u6ca1\u6709\u7b26\u5408\u67e5\u8be2\u6761\u4ef6\u7684\u6570\u636e",s.createElement("br",null),"\u8bf7\u4fee\u6539\u6761\u4ef6\u540e\u91cd\u65b0\u67e5\u8be2"))}));function F(e){var t=e.descriptors,r=e.isLoading,n=e.emptyCellHeight,a=e.EmptyContent,o=void 0===a?Y:a,l=!r;return s.createElement("table",null,s.createElement(W,{descriptors:t}),s.createElement("tbody",null,s.createElement("tr",{className:i()(D.PZ.tableRow,"first","last","no-hover"),"data-rowindex":0},s.createElement("td",{className:i()(D.PZ.tableCell,"first","last"),colSpan:t.length,style:{height:null!=n?n:200}},l&&s.createElement("div",{className:D.PZ.emptyWrapper},s.createElement(o,null))))))}var U=r(96200);function V(e){for(var t=[],r=0;r<e;r++)t.push(r);return t}function A(e,t){for(var r=[],n=0;n<t;n++)r.push([]);var a=[];return function e(t,n){for(var o=0,l=0;l<t.length;l++){var i=t[l];if((0,w.Z)(i)){o+=1;var s={type:"normal",width:i.col.width,col:i.col,colIndex:i.colIndex,colSpan:1,isLeaf:!0};r[n].push(s),a.push(s)}else{var c=e(i.children,n+1);o+=c.leafCount,c.leafCount>0&&r[n].push({type:"normal",width:i.col.width,col:i.col,colIndex:i.colIndex,colSpan:c.leafCount,isLeaf:!1})}}return{leafCount:o}}(e,0),{flat:a,leveled:r}}function q(e,t){return function e(t,r){for(var n=[],a=0,o=0;o<t.length;o++){var l=t[o],i=r+a;if((0,w.Z)(l))a+=1,n.push({colIndex:i,col:l});else{var s=e(l.children,i);a+=s.leafCount,s.leafCount>0&&n.push({col:l,colIndex:i,children:s.result})}}return{result:n,leafCount:a}}(e,t).result}function X(e,t){var r=e.flat,a=e.nested,o=e.horizontalRenderRange;if(e.useVirtual.header){var l=A(q(a.left,0),t),i=A(function(e,t,r){return function e(a,o){for(var l,i=0,s=[],c=(0,n.Z)(a);!(l=c()).done;){var d=l.value,u=o+i;if((0,w.Z)(d))i+=1,r+t.leftIndex<=u&&u<r+t.rightIndex&&s.push({colIndex:u,col:d});else{var f=e(d.children,u);i+=f.leafCount,f.filtered.length>0&&s.push({colIndex:u,col:d,children:f.filtered})}}return{filtered:s,leafCount:i}}(e,r).filtered}(a.center,o,r.left.length),t),s=A(q(a.right,r.left.length+r.center.length),t);return{flat:[].concat(l.flat,[{type:"blank",width:o.leftBlank,blankSide:"left"}],i.flat,[{type:"blank",width:o.rightBlank,blankSide:"right"}],s.flat),leveled:V(t).map((function(e){return[].concat(l.leveled[e],[{type:"blank",width:o.leftBlank,blankSide:"left"}],i.leveled[e],[{type:"blank",width:o.rightBlank,blankSide:"right"}],s.leveled[e])}))}}return A(q(a.full,0),t)}function G(e){var t=e.info,r=t.nested,n=t.flat,a=t.stickyLeftMap,o=t.stickyRightMap,l=(0,U.Z)(r.full)+1,c=X(t,l),d=n.full.length,u=n.left.length,f=n.right.length,h=c.leveled.map((function(e,t){var r=e.map((function(e){if("normal"===e.type){var r,n,c=e.colIndex,h=e.colSpan,p=e.isLeaf,m=e.col,b=null!=(r=m.headerCellProps)?r:{},g={};return c<u?(g.position="sticky",g.left=a.get(c)):c>=d-f&&(g.position="sticky",g.right=o.get(c+h-1)),s.createElement("th",Object.assign({key:c},b,{className:i()(D.PZ.tableHeaderCell,b.className,{first:0===c,last:c+h===d,"lock-left":c<u,"lock-right":c>=d-f}),colSpan:h,rowSpan:p?l-t:void 0,style:Object.assign({textAlign:m.align},b.style,g)}),null!=(n=m.title)?n:m.name)}return e.width>0?s.createElement("th",{key:e.blankSide}):null}));return s.createElement("tr",{key:t,className:i()(D.PZ.tableHeaderRow,{first:0===t,last:t===l-1})},r)}));return s.createElement("table",null,s.createElement("colgroup",null,c.flat.map((function(e){return"blank"===e.type?e.width>0?s.createElement("col",{key:e.blankSide,style:{width:e.width}}):null:s.createElement("col",{key:e.colIndex,style:{width:e.width}})}))),s.createElement("thead",null,h))}var K=r(80098),$=r(17342),J=r(28448),Q=r(33189),ee=r(85392),te=r(48555),re=r(98519),ne=r(97209),ae=r(8663),oe=r(97686),le=r(16328),ie=r(64805);function se(e){return"[object Window]"===e.toString()}function ce(e){return function(e){return"html"===(0,K.Z)(e)}(e)||function(e){return"body"===(0,K.Z)(e)}(e)}function de(e,t,r){for(var n=0,a=e;null!=a&&(n+=a[r],!(a===t||se(t)&&ce(a)));)a=a.parentElement;return se(t)&&(n+=(0,ee.Z)(a)[r]),n}function ue(e,t){if(se(t)||ce(t))return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight};for(var r=0,n=0,a=t;null!=a&&a!=e;){n+=a.offsetTop,r+=a.offsetLeft;var o=(0,$.Z)(a);if(n-=de(a.parentElement,o,"scrollTop"),r-=de(a.parentElement,o,"scrollLeft"),se(o))break;n+=o.clientTop,r+=o.clientLeft,a=o}return{top:n,bottom:n+t.offsetHeight,left:r,right:r+t.offsetWidth}}function fe(e,t){return se(t)||function(e){var t=[],r=e;for(;!se(r);)r=(0,$.Z)(r),t.push(r);return t}(e).includes(t)?t:(0,$.Z)(t)}function he(e){return se(e)?(0,x.R)(e,"resize",{passive:!0}):new ae.y((function(t){var r=new ne.Z((function(e){t.next(e)}));return r.observe(e),function(){r.disconnect()}}))}function pe(e){return["html","body","#document"].includes((0,K.Z)(e))?(0,Q.Z)(e):(0,te.Re)(e)&&(0,re.Z)(e)?e:pe((0,J.Z)(e))}function me(e,t,r){return t.pipe(v.O("init"),b.U((function(){var t=pe(e);return{scrollParent:t,commonOffsetAncestor:fe(e,t)}})),g.x(T),le.b((function(t){r&&console.log("%c[ali-react-table STRUCTURE "+r+"]","color: #4f9052; font-weight: bold","\ntarget:",e,"\nscrollParent:",t.scrollParent,"\ncommonOffsetAncestor:",t.commonOffsetAncestor)})),ie.w((function(t){var r,n=t.scrollParent,a=t.commonOffsetAncestor;return(0,oe.T)((r=n,(0,x.R)(r,"scroll",{passive:!0})),he(n),he(e)).pipe(b.U((function(t){return{targetRect:ue(a,e),scrollParentRect:ue(a,n),event:t}})),b.U((function(e){var t=e.event,r=e.scrollParentRect,n=e.targetRect;return{event:t,targetRect:n,scrollParentRect:r,offsetY:Math.max(0,r.top-n.top),clipRect:{left:Math.max(n.left,r.left),top:Math.max(n.top,r.top),right:Math.min(n.right,r.right),bottom:Math.min(n.bottom,r.bottom)}}})))})),le.b((function(e){r&&console.log("%c[ali-react-table RECTS "+r+"]","color: #4f9052; font-weight: bold","\noffsetY:",e.offsetY,"\ntargetRect:",e.targetRect,"\nscrollParentRect:",e.scrollParentRect,"\nclipRect:",e.clipRect,"\nevent:",e.event)})))}function be(e,t){var r=new Array(e).fill(t);return{getRenderRange:function(e,n,a){return r.length!==a&&function(e){if(e<r.length)r.length=e;else{var n=r.length;r.length=e,r.fill(t,n)}}(a),n<=0?e<=0?(l=s(0,o={topIndex:0,topBlank:0}),Object.assign({},o,l)):function(){var e=c(a),t=i(e),r=s(e,t);return Object.assign({},t,r)}():function(){var t=i(e),r=s(e+n,t);return Object.assign({},t,r)}();var o,l;function i(e){if(0===r.length)return{topIndex:0,topBlank:0};for(var t=0,n=0;t<r.length;){var a=r[t];if(n+a>=e)break;n+=a,t+=1}return function(e,t){var n=0,a=0;for(;a<e&&n<P;)n+=r[e-(a+=1)];return{topIndex:e-a,topBlank:t-n}}(t,n)}function s(e,t){for(var n=t.topIndex,o=t.topBlank;n<a&&o<e;)o+=r[n],n+=1;return function(e,t){var n=0,o=0;for(;o<a-e&&n<P;)n+=r[e+o],o+=1;return{bottomIndex:e+o,bottomBlank:t-n}}(n,c(a)-o)}function c(e){return H(r)+(e-r.length)*t}},updateRow:function(e,t,n){r[e]=n},cache:r}}var ge=function(){function e(e){Object.defineProperty(this,"artTableWrapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"artTable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tableHeader",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tableBody",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tableFooter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stickyScroll",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stickyScrollItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.artTableWrapper=e,this.artTable=e.querySelector("."+D.PZ.artTable),this.tableHeader=this.artTable.querySelector(":scope > ."+D.PZ.tableHeader),this.tableBody=this.artTable.querySelector(":scope > ."+D.PZ.tableBody),this.tableFooter=this.artTable.querySelector(":scope > ."+D.PZ.tableFooter);var t="."+D.PZ.artTable+" + ."+D.PZ.stickyScroll;this.stickyScroll=e.querySelector(t),this.stickyScrollItem=this.stickyScroll.querySelector("."+D.PZ.stickyScrollItem)}var t=e.prototype;return t.getVirtualTop=function(){return this.tableBody.querySelector("."+D.PZ.virtualBlank+".top")},t.getTableRows=function(){return this.getTableBodyHtmlTable().querySelectorAll(":scope > tbody > ."+D.PZ.tableRow)},t.getTableBodyHtmlTable=function(){return this.artTable.querySelector("."+D.PZ.tableBody+" table")},t.getLeftLockShadow=function(){var e=":scope > ."+D.PZ.lockShadowMask+" ."+D.PZ.leftLockShadow;return this.artTable.querySelector(e)},t.getRightLockShadow=function(){var e=":scope > ."+D.PZ.lockShadowMask+" ."+D.PZ.rightLockShadow;return this.artTable.querySelector(e)},t.getLoadingIndicator=function(){return this.artTableWrapper.querySelector("."+D.PZ.loadingIndicator)},e}(),ve=r(55446),ye=r(77172);function ke(e){var t=e.tbodyHtmlTag,r=e.getRowProps,n=e.primaryKey,a=e.data,o=e.verticalRenderInfo,l=e.horizontalRenderInfo,c=l.flat,d=l.horizontalRenderRange,u=new ye.Z,f=c.full.length,h=c.left.length,p=c.right.length;return s.createElement("table",null,s.createElement(W,{descriptors:l.visible}),s.createElement(t,null,a.map((function(e,t){var a=o.offset+t;u.stripUpwards(a);var c=r(e,a),m=i()(D.PZ.tableRow,{first:a===o.first,last:a===o.last,even:a%2==0,odd:a%2==1},null==c?void 0:c.className);return s.createElement("tr",Object.assign({},c,{className:m,key:ve.b.safeGetRowKey(n,e,a),"data-rowindex":a}),l.visible.map((function(t){return"blank"===t.type?s.createElement("td",{key:t.blankSide}):function(e,t,r,n){var a;if(u.testSkip(t,n))return null;var c=ve.b.safeGetValue(r,e,t),m=null!=(a=null==r.getCellProps?void 0:r.getCellProps(c,e,t))?a:{},b=c;r.render&&(b=r.render(c,e,t));var g=1,v=1;if(r.getSpanRect){var y=r.getSpanRect(c,e,t);g=null==y?1:y.right-n,v=null==y?1:y.bottom-t}else null!=m.colSpan&&(g=m.colSpan),null!=m.rowSpan&&(v=m.rowSpan);v=Math.min(v,o.limit-t);var k=(g=Math.min(g,h+d.rightIndex-n))>1||v>1;k&&u.add(t,n,g,v);var w={};n<h?(w.position="sticky",w.left=l.stickyLeftMap.get(n)):n>=f-p&&(w.position="sticky",w.right=l.stickyRightMap.get(n));return s.createElement("td",Object.assign({key:n},m,{className:i()(D.PZ.tableCell,m.className,{first:0===n,last:n+g===f,"lock-left":n<h,"lock-right":n>=f-p})},k?{colSpan:g,rowSpan:v}:null,{style:Object.assign({textAlign:r.align},m.style,w)}),b)}(e,a,t.col,t.colIndex)})))}))))}var we=r(78542),je=!1;var Se=!1;var xe=function(e){function t(t){var r;return r=e.call(this,t)||this,Object.defineProperty((0,a.Z)(r),"rowHeightManager",{enumerable:!0,configurable:!0,writable:!0,value:be(r.props.dataSource.length,r.props.estimatedRowHeight)}),Object.defineProperty((0,a.Z)(r),"artTableWrapperRef",{enumerable:!0,configurable:!0,writable:!0,value:s.createRef()}),Object.defineProperty((0,a.Z)(r),"domHelper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,a.Z)(r),"rootSubscription",{enumerable:!0,configurable:!0,writable:!0,value:new c.w}),Object.defineProperty((0,a.Z)(r),"lastInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty((0,a.Z)(r),"props$",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r.state={hasScroll:!0,needRenderLock:!0,offsetY:0,offsetX:0,maxRenderHeight:600,maxRenderWidth:800},r}(0,o.Z)(t,e);var r=t.prototype;return r.getDoms=function(){return console.warn("[ali-react-table] BaseTable.getDoms() \u5df2\u7ecf\u8fc7\u65f6"),this.domHelper},r.updateStickyScroll=function(){var e=this.domHelper,t=e.stickyScroll,r=e.artTable,n=e.stickyScrollItem;if(r){var a=this.domHelper.getTableBodyHtmlTable().offsetWidth,o=r.offsetWidth,l=this.props.stickyScrollHeight,i="auto"===l?(null==L&&(L=new d.X(O()),z.pipe((0,b.U)((function(){return O()}))).subscribe(L)),L.value).height:l;t.style.marginTop="-"+(i+1)+"px",o>=a?this.state.hasScroll&&this.setState({hasScroll:!1}):!this.state.hasScroll&&i>5&&this.setState({hasScroll:!0}),n.style.width=a+"px"}},r.renderTableHeader=function(e){var t=this.props,r=t.stickyTop,n=t.hasHeader;return s.createElement("div",{className:i()(D.PZ.tableHeader,"no-scrollbar"),style:{top:0===r?void 0:r,display:n?void 0:"none"}},s.createElement(G,{info:e}))},r.updateOffsetX=function(e){this.lastInfo.useVirtual.horizontal&&Math.abs(e-this.state.offsetX)>=50&&this.setState({offsetX:e})},r.syncHorizontalScrollFromTableBody=function(){this.syncHorizontalScroll(this.domHelper.tableBody.scrollLeft)},r.syncHorizontalScroll=function(e){this.updateOffsetX(e);var t=this.domHelper.tableBody,r=this.lastInfo.flat,n=this.domHelper.getLeftLockShadow();n&&(r.left.length>0&&this.state.needRenderLock&&e>0?n.classList.add("show-shadow"):n.classList.remove("show-shadow"));var a=this.domHelper.getRightLockShadow();a&&(r.right.length>0&&this.state.needRenderLock&&e<t.scrollWidth-t.clientWidth?a.classList.add("show-shadow"):a.classList.remove("show-shadow"))},r.getVerticalRenderRange=function(e){var t=this.props.dataSource,r=this.state,n=r.offsetY,a=r.maxRenderHeight,o=t.length;return e.vertical?this.rowHeightManager.getRenderRange(n,a,o):function(e){return{topIndex:0,topBlank:0,bottomIndex:e,bottomBlank:0}}(o)},r.renderTableBody=function(e){var t=this.props,r=t.dataSource,n=t.getRowProps,a=t.primaryKey,o=t.isLoading,l=t.emptyCellHeight,c=t.footerDataSource,d=i()(D.PZ.tableBody,D.PZ.horizontalScrollContainer,{"no-scrollbar":c.length>0});if(0===r.length){var u=this.props,f=u.components,h=u.emptyContent,p=f.EmptyContent;return null==p&&null!=h&&(je||(je=!0,console.warn("[ali-react-table] BaseTable props.emptyContent \u5df2\u7ecf\u8fc7\u65f6\uff0c\u8bf7\u4f7f\u7528 props.components.EmptyContent \u6765\u81ea\u5b9a\u4e49\u6570\u636e\u4e3a\u7a7a\u65f6\u7684\u8868\u683c\u8868\u73b0")),p=function(){return h}),s.createElement("div",{className:d},s.createElement(F,{descriptors:e.visible,isLoading:o,EmptyContent:p,emptyCellHeight:l}))}var m=e.verticalRenderRange,b=m.topIndex,g=m.bottomBlank,v=m.topBlank,y=m.bottomIndex;return s.createElement("div",{className:d},v>0&&s.createElement("div",{key:"top-blank",className:i()(D.PZ.virtualBlank,"top"),style:{height:v}}),s.createElement(ke,{tbodyHtmlTag:"tbody",getRowProps:n,primaryKey:a,data:r.slice(b,y),horizontalRenderInfo:e,verticalRenderInfo:{first:0,offset:b,limit:y,last:r.length-1}}),g>0&&s.createElement("div",{key:"bottom-blank",className:i()(D.PZ.virtualBlank,"bottom"),style:{height:g}}))},r.renderTableFooter=function(e){var t=this.props,r=t.footerDataSource,n=void 0===r?[]:r,a=t.getRowProps,o=t.primaryKey,l=t.stickyBottom;return s.createElement("div",{className:i()(D.PZ.tableFooter,D.PZ.horizontalScrollContainer),style:{bottom:0===l?void 0:l}},s.createElement(ke,{tbodyHtmlTag:"tfoot",data:n,horizontalRenderInfo:e,getRowProps:a,primaryKey:o,verticalRenderInfo:{offset:0,first:0,last:n.length-1,limit:1/0}}))},r.renderLockShadows=function(e){return s.createElement(s.Fragment,null,s.createElement("div",{className:D.PZ.lockShadowMask,style:{left:0,width:e.leftLockTotalWidth+D.Yx}},s.createElement("div",{className:i()(D.PZ.lockShadow,D.PZ.leftLockShadow)})),s.createElement("div",{className:D.PZ.lockShadowMask,style:{right:0,width:e.rightLockTotalWidth+D.Yx}},s.createElement("div",{className:i()(D.PZ.lockShadow,D.PZ.rightLockShadow)})))},r.renderStickyScroll=function(e){var t=this.props,r=t.hasStickyScroll,n=t.stickyBottom,a=this.state.hasScroll;return s.createElement("div",{className:i()(D.PZ.stickyScroll,D.PZ.horizontalScrollContainer),style:{display:r&&a?"block":"none",bottom:n}},s.createElement("div",{className:D.PZ.stickyScrollItem}))},r.render=function(){var e,t=N(this);this.lastInfo=t;var r=this.props,n=r.dataSource,a=r.className,o=r.style,l=r.hasHeader,c=r.useOuterBorder,d=r.isStickyHead,u=r.isStickyHeader,f=r.isStickyFooter,h=r.isLoading,p=r.footerDataSource,m=r.components;null!=r.flowRoot&&(Se||(Se=!0,console.warn("[ali-react-table] BaseTable v2.4 \u7248\u672c\u4e4b\u540e\u5df2\u7ecf\u4e0d\u518d\u9700\u8981\u6307\u5b9a flowRoot")));var b=((e={className:i()(D.PZ.artTableWrapper,{"use-outer-border":c,empty:0===n.length,lock:t.hasLockColumn,"has-header":l,"sticky-header":null!=u?u:d,"has-footer":p.length>0,"sticky-footer":f},a),style:o})[E]=this.artTableWrapperRef,e);return s.createElement(D.Ou,Object.assign({},b),s.createElement(we.Z,{visible:h,LoadingIcon:m.LoadingIcon,LoadingContentWrapper:m.LoadingContentWrapper},s.createElement("div",{className:D.PZ.artTable},this.renderTableHeader(t),this.renderTableBody(t),this.renderTableFooter(t),this.renderLockShadows(t)),this.renderStickyScroll(t)))},r.componentDidMount=function(){this.updateDOMHelper(),this.props$=new d.X(this.props),this.initSubscriptions(),this.didMountOrUpdate()},r.componentDidUpdate=function(e,t){this.updateDOMHelper(),this.props$.next(this.props),this.didMountOrUpdate(e,t)},r.didMountOrUpdate=function(e,t){this.syncHorizontalScrollFromTableBody(),this.updateStickyScroll(),this.adjustNeedRenderLock(),this.updateRowHeightManager(),this.updateScrollLeftWhenLayoutChanged(e,t)},r.updateScrollLeftWhenLayoutChanged=function(e,t){if(null!=t&&!t.hasScroll&&this.state.hasScroll&&(this.domHelper.stickyScroll.scrollLeft=0),null!=e){var r=e.footerDataSource.length>0,n=this.props.footerDataSource.length>0;!r&&n&&(this.domHelper.tableFooter.scrollLeft=this.domHelper.tableBody.scrollLeft)}},r.initSubscriptions=function(){var e=this,t=this.domHelper,r=t.tableHeader,n=t.tableBody,a=t.tableFooter,o=t.stickyScroll;this.rootSubscription.add(z.subscribe((function(){e.updateStickyScroll(),e.adjustNeedRenderLock()}))),this.rootSubscription.add(I([r,n,a,o],(function(t){e.syncHorizontalScroll(t)})));var l=me(this.domHelper.artTable,this.props$.pipe(h.T(1),p.h("structure-may-change")),this.props.virtualDebugLabel).pipe(m.d());this.rootSubscription.add((0,u.aj)([l.pipe(b.U((function(e){return e.clipRect})),g.x(T)),this.props$.pipe(v.O(null),y.G(),k.h((function(e){var t=e[0],r=e[1];return null==t||!t.isLoading&&r.isLoading})))]).subscribe((function(t){var r=t[0],n=e.domHelper.getLoadingIndicator();if(n){var a=r.bottom-r.top;n.style.top=a/2+"px",n.style.marginTop=a/2+"px"}}))),this.rootSubscription.add(l.pipe(k.h((function(){var t=e.lastInfo.useVirtual,r=t.horizontal,n=t.vertical;return r||n})),b.U((function(e){var t=e.clipRect,r=e.offsetY;return{maxRenderHeight:t.bottom-t.top,maxRenderWidth:t.right-t.left,offsetY:r}})),g.x((function(e,t){return Math.abs(e.maxRenderWidth-t.maxRenderWidth)<50&&Math.abs(e.maxRenderHeight-t.maxRenderHeight)<50&&Math.abs(e.offsetY-t.offsetY)<50}))).subscribe((function(t){e.setState(t)})))},r.componentWillUnmount=function(){this.rootSubscription.unsubscribe()},r.updateDOMHelper=function(){this.domHelper=new ge(this.artTableWrapperRef.current)},r.updateRowHeightManager=function(){for(var e,t,r=this.domHelper.getVirtualTop(),a=null!=(e=null==r?void 0:r.clientHeight)?e:0,o=0,l=-1,i=-1,s=(0,n.Z)(this.domHelper.getTableRows());!(t=s()).done;){var c=t.value,d=Number(c.dataset.rowindex);if(!isNaN(d)){l=Math.max(l,d);var u=c.offsetTop+a,f=c.offsetHeight;0===f&&(o+=1),i=Math.max(i,u+f),this.rowHeightManager.updateRow(d,u,f)}}-1!==l&&0===o&&(i<this.state.offsetY+this.state.maxRenderHeight&&this.getVerticalRenderRange(this.lastInfo.useVirtual).bottomIndex-1>l&&this.forceUpdate())},r.adjustNeedRenderLock=function(){var e=this.state.needRenderLock,t=this.lastInfo,r=t.flat;if(t.hasLockColumn){var n=H(r.full.map((function(e){return e.width})))>this.domHelper.artTable.clientWidth;e!==n&&this.setState({needRenderLock:n})}else e&&this.setState({needRenderLock:!1})},t}(s.Component);Object.defineProperty(xe,"defaultProps",{enumerable:!0,configurable:!0,writable:!0,value:{hasHeader:!0,isStickyHeader:!0,stickyTop:0,footerDataSource:[],isStickyFooter:!0,stickyBottom:0,hasStickyScroll:!0,stickyScrollHeight:"auto",useVirtual:"auto",estimatedRowHeight:48,isLoading:!1,components:{},getRowProps:f.Z,dataSource:[]}})},55446:function(e,t,r){"use strict";function n(e,t,r){return e.getValue?e.getValue(t,r):t[e.code]}r.d(t,{b:function(){return a}});var a={safeRenderHeader:function(e){var t;return null!=(t=e.title)?t:e.name},safeGetValue:n,safeGetRowKey:function(e,t,r){var n;return"string"==typeof e?n=t[e]:"function"==typeof e&&(n=e(t)),null==n&&(n=String(r)),n},safeGetCellProps:function(e,t,r){if(e.getCellProps){var a=n(e,t,r);return e.getCellProps(a,t,r)||{}}return{}},safeRender:function(e,t,r){var a=n(e,t,r);return e.render?e.render(a,t,r):a}}},9988:function(e,t,r){"use strict";function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((function(e,t){return t(e)}),e)}r.d(t,{Z:function(){return n}})},58342:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(18021),a=r(48296);function o(e,t){void 0===t&&(t="pre");var r=[];return function e(o){if(null==o)return;for(var l,i=(0,n.Z)(o);!(l=i()).done;){var s=l.value;(0,a.Z)(s)?r.push(s):"pre"===t?(r.push(s),e(s.children)):"post"===t?(e(s.children),r.push(s)):e(s.children)}}(e),r}},96200:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(18021),a=r(48296);function o(e){var t=-1;return function e(r,o){for(var l,i=(0,n.Z)(r);!(l=i()).done;){var s=l.value;(0,a.Z)(s)?t=Math.max(t,o):e(s.children,o+1)}}(e,0),t}},48296:function(e,t,r){"use strict";function n(e){return null==e.children||0===e.children.length}r.d(t,{Z:function(){return n}})},88257:function(e,t){"use strict";var r=Symbol("factory-symbol");function n(e,t){void 0===t&&(t="auto");var a=Object.keys(e);function o(t){var o=Object.assign({},t);return a.forEach((function(t){if(o[t]!==n.empty){var a,l,i=e[t];if((l=i)&&l[r])o[t]=i(o[t]);else o[t]=null!=(a=o[t])?a:i}else delete o[t]})),o}function l(e){return("auto"===t?Array.isArray(e):t)?null==e?[]:e.map(o):o(e)}return l[r]=!0,l.extends=function(e){var r=n(e,t);return function(e){return l(r(e))}},l}n.empty=Symbol("proto.empty"),n.string=function(e){if(null!=e&&"string"!=typeof e)throw new Error("must be string");return e},n.string[r]=!0,n.number=function(e){if(null!=e&&"number"!=typeof e)throw new Error("must be number");return e},n.number[r]=!0,n.notNull=function(e){if(null==e)throw new Error("must be not null");return e},n.notNull[r]=!0,n.object=function(e){return n(e,!1)},n.array=function(e){return n(e,!0)},t.Z=n},46173:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(18021),a=r(48296);function o(e){return function(t){var r=t.columns,o=t.dataSource;return{dataSource:o,columns:function t(r,l){for(var i,s=0,c=[],d=(0,n.Z)(r);!(i=d()).done;){var u=i.value,f=l+s,h=void 0;if((0,a.Z)(u))h=e(u,{range:{start:f,end:f+1},dataSource:o}),s+=1;else{var p=t(u.children,f);h=e(Object.assign({},u,{children:p.result}),{range:{start:f,end:f+p.flatColCount},dataSource:o}),s+=p.flatColCount}c.push.apply(c,null==(m=h)?[]:Array.isArray(m)?m:[m])}var m;return{result:c,flatColCount:s}}(r,0).result}}}},88889:function(e,t,r){"use strict";r.d(t,{f:function(){return d}});var n=r(84614),a=r(72239),o=r(69979),l=r(2784),i=r(4517);function s(e){var t=e.exampleName;return l.createElement("div",{style:{marginTop:16}},l.createElement("p",null,"\u65e0\u6cd5\u627e\u5230\u540d\u4e3a ",l.createElement("b",null,t)," \u7684\u793a\u4f8b"))}function c(e){var t,r,o=e.stories,c=e.path,d=(0,i.TH)(),u=(0,i.k6)(),f=Object.keys(o).filter((function(e){return"default"!==e})),h=new URLSearchParams(d.search),p=null!=(t=h.get("example"))?t:f[0],m=f.indexOf(p),b=null!=(r=o[p])?r:s,g=function(e){h.set("example",e),u.replace({search:String(h)})},v=function(){return c?l.createElement(n.Z,{component:"a",href:String(new URL(c,"https://github.com/alibaba/ali-react-table/blob/master/packages/website/examples/"))},"\u67e5\u770b\u6e90\u7801"):null};return l.createElement(l.Fragment,null,f.length>1?l.createElement("div",{style:{marginBottom:16,display:"flex",alignItems:"center",flexWrap:"wrap"}},l.createElement("span",null,"\u793a\u4f8b\uff08",m+1," / ",f.length,"\uff09\uff1a"),l.createElement(a.Z,{style:{marginLeft:8,width:200},dataSource:f,value:p,onChange:g}),l.createElement(n.Z.Group,{style:{marginLeft:8}},l.createElement(n.Z,{onClick:function(){-1===m?g(f[0]):-1!==m&&m>0&&g(f[m-1])},disabled:0===m},"\u4e0a\u4e00\u4e2a"),l.createElement(n.Z,{onClick:function(){-1===m?g(f[0]):m<f.length-1&&g(f[m+1])},disabled:m===f.length-1},"\u4e0b\u4e00\u4e2a"),v())):l.createElement("div",{style:{marginBottom:c?16:0}},v()),l.createElement(b,{exampleName:p}))}function d(e){return l.createElement(o.Z,{fallback:"\u793a\u4f8b\u8f7d\u5165\u4e2d..."},(function(){return l.createElement(c,Object.assign({},e))}))}},48713:function(e,t,r){"use strict";r.d(t,{D:function(){return u}});var n,a=r(73182),o=r(66097),l=r(99714),i=r(72779),s=r.n(i),c=r(2784),d=(0,r(52275).ZP)(l.D)(n||(n=(0,a.Z)(["\n  ",";\n\n  &.dark {\n    --bgcolor: #333;\n    --header-bgcolor: #45494f;\n    --hover-bgcolor: #46484a;\n    --header-hover-bgcolor: #606164;\n    --highlight-bgcolor: #191a1b;\n    --header-highlight-bgcolor: #191a1b;\n    --color: #dadde1;\n    --header-color: #dadde1;\n    --lock-shadow: rgb(37 37 37 / 0.5) 0 0 6px 2px;\n    --border-color: #3c4045;\n  }\n"])),(function(e){return e.css})),u=c.forwardRef((function(e,t){var r=(0,o.Z)().isDarkTheme;return c.createElement(d,Object.assign({ref:t,className:s()({dark:r},e.className)},e))}))},1100:function(e,t,r){"use strict";r.r(t),r.d(t,{plain:function(){return s},amount0:function(){return c},amount:function(){return d},time:function(){return u},amount1:function(){return f},amount2:function(){return h},ratio:function(){return p},lfl:function(){return g},money:function(){return v}});var n=r(1246),a=r.n(n),o=r(19034),l=r.n(o),i=r(2784),s=function(e){return"-"===e||null==e?"-":String(e)},c=function(e){return"-"===e||null==e?"-":a()(e).format("0,0")},d=c;function u(e){return l()(e,"YYYY-MM-DD HH:mm:ss.sss").format("YYYY\u5e74MM\u6708DD\u65e5 HH:mm:ss")}var f=function(e){return"-"===e||null==e?"-":a()(e).format("0,0.0")},h=function(e){return"-"===e||null==e?"-":a()(e).format("0,0.00")},p=function(e){return"-"===e||null==e?"-":a()(e).format("0.00%")},m=(0,i.memo)((function(e){var t=e.size,r=void 0===t?12:t,n=e.style;return i.createElement("svg",{viewBox:"0 0 1024 1024",width:r,height:r,fill:"currentColor",style:n},i.createElement("path",{d:"M682.667 512v426.667H341.333V512h-256L512 0l426.667 512h-256z"}))})),b=(0,i.memo)((function(e){var t=e.size,r=void 0===t?12:t,n=e.style;return i.createElement("svg",{viewBox:"0 0 1024 1024",width:r,height:r,fill:"currentColor",style:n},i.createElement("path",{d:"M682.667 426.667V0H341.333v426.667h-256l426.667 512 426.667-512h-256z"}))})),g=function(e){return null==e||"-"===e||isNaN(e)||e===1/0||e===-1/0?t("-"):t((e=Number(e))>0?i.createElement(i.Fragment,null,i.createElement("span",{style:{color:"#f4485c"}},a()(e).format("0.00%")),i.createElement(m,{style:{marginLeft:4,color:"#f4485c"}})):e<0?i.createElement(i.Fragment,null,i.createElement("span",{style:{color:"#00a854"}},a()(e).format("0.00%")),i.createElement(b,{style:{marginLeft:4,color:"#00a854"}})):i.createElement("span",{style:{color:"#838383"}},"0"));function t(e){return i.createElement("div",{className:"lfl-cell",style:{display:"inline-flex",alignItems:"center",justifyContent:"flex-end"}},e)}},v=function e(t){return"-"===t||null==t?"-":(t=Number(t))<0?"-"+e(-t):0===t?String(t):t<1e4?a()(t).format("0,0"):t<1e5?a()(t/1e4).format("0.0")+"\u4e07":t<1e8?a()(t/1e4).format("0")+"\u4e07":t<1e9?a()(t/1e8).format("0.0")+"\u4ebf":a()(t/1e8).format("0")+"\u4ebf"}},96616:function(e,t,r){var n={"./af":95191,"./af.js":95191,"./ar":54358,"./ar-dz":71727,"./ar-dz.js":71727,"./ar-kw":98279,"./ar-kw.js":98279,"./ar-ly":87895,"./ar-ly.js":87895,"./ar-ma":11987,"./ar-ma.js":11987,"./ar-sa":52796,"./ar-sa.js":52796,"./ar-tn":12386,"./ar-tn.js":12386,"./ar.js":54358,"./az":57452,"./az.js":57452,"./be":79053,"./be.js":79053,"./bg":65428,"./bg.js":65428,"./bm":21569,"./bm.js":21569,"./bn":56212,"./bn-bd":24635,"./bn-bd.js":24635,"./bn.js":56212,"./bo":13667,"./bo.js":13667,"./br":192,"./br.js":192,"./bs":51802,"./bs.js":51802,"./ca":19118,"./ca.js":19118,"./cs":39990,"./cs.js":39990,"./cv":30557,"./cv.js":30557,"./cy":4227,"./cy.js":4227,"./da":95406,"./da.js":95406,"./de":87994,"./de-at":44139,"./de-at.js":44139,"./de-ch":86591,"./de-ch.js":86591,"./de.js":87994,"./dv":94649,"./dv.js":94649,"./el":14453,"./el.js":14453,"./en-au":48428,"./en-au.js":48428,"./en-ca":36972,"./en-ca.js":36972,"./en-gb":13224,"./en-gb.js":13224,"./en-ie":18843,"./en-ie.js":18843,"./en-il":32732,"./en-il.js":32732,"./en-in":76579,"./en-in.js":76579,"./en-nz":29851,"./en-nz.js":29851,"./en-sg":70442,"./en-sg.js":70442,"./eo":10654,"./eo.js":10654,"./es":63621,"./es-do":68791,"./es-do.js":68791,"./es-mx":67278,"./es-mx.js":67278,"./es-us":60717,"./es-us.js":60717,"./es.js":63621,"./et":72404,"./et.js":72404,"./eu":62944,"./eu.js":62944,"./fa":30496,"./fa.js":30496,"./fi":98137,"./fi.js":98137,"./fil":32872,"./fil.js":32872,"./fo":6545,"./fo.js":6545,"./fr":49090,"./fr-ca":13049,"./fr-ca.js":13049,"./fr-ch":12338,"./fr-ch.js":12338,"./fr.js":49090,"./fy":95088,"./fy.js":95088,"./ga":77812,"./ga.js":77812,"./gd":8374,"./gd.js":8374,"./gl":63649,"./gl.js":63649,"./gom-deva":52674,"./gom-deva.js":52674,"./gom-latn":44948,"./gom-latn.js":44948,"./gu":24033,"./gu.js":24033,"./he":10175,"./he.js":10175,"./hi":58055,"./hi.js":58055,"./hr":41678,"./hr.js":41678,"./hu":85111,"./hu.js":85111,"./hy-am":26530,"./hy-am.js":26530,"./id":19126,"./id.js":19126,"./is":11696,"./is.js":11696,"./it":98710,"./it-ch":38821,"./it-ch.js":38821,"./it.js":98710,"./ja":93974,"./ja.js":93974,"./jv":70648,"./jv.js":70648,"./ka":54731,"./ka.js":54731,"./kk":43501,"./kk.js":43501,"./km":84398,"./km.js":84398,"./kn":91825,"./kn.js":91825,"./ko":13729,"./ko.js":13729,"./ku":19670,"./ku.js":19670,"./ky":78797,"./ky.js":78797,"./lb":50627,"./lb.js":50627,"./lo":65859,"./lo.js":65859,"./lt":80355,"./lt.js":80355,"./lv":16594,"./lv.js":16594,"./me":45324,"./me.js":45324,"./mi":11689,"./mi.js":11689,"./mk":61308,"./mk.js":61308,"./ml":85241,"./ml.js":85241,"./mn":76320,"./mn.js":76320,"./mr":96771,"./mr.js":96771,"./ms":20503,"./ms-my":77748,"./ms-my.js":77748,"./ms.js":20503,"./mt":55534,"./mt.js":55534,"./my":62727,"./my.js":62727,"./nb":7550,"./nb.js":7550,"./ne":49899,"./ne.js":49899,"./nl":41228,"./nl-be":31225,"./nl-be.js":31225,"./nl.js":41228,"./nn":97130,"./nn.js":97130,"./oc-lnc":93130,"./oc-lnc.js":93130,"./pa-in":91282,"./pa-in.js":91282,"./pl":28190,"./pl.js":28190,"./pt":41549,"./pt-br":78135,"./pt-br.js":78135,"./pt.js":41549,"./ro":307,"./ro.js":307,"./ru":89272,"./ru.js":89272,"./sd":79248,"./sd.js":79248,"./se":74969,"./se.js":74969,"./si":65522,"./si.js":65522,"./sk":61581,"./sk.js":61581,"./sl":56428,"./sl.js":56428,"./sq":34611,"./sq.js":34611,"./sr":19821,"./sr-cyrl":20185,"./sr-cyrl.js":20185,"./sr.js":19821,"./ss":35029,"./ss.js":35029,"./sv":80939,"./sv.js":80939,"./sw":73107,"./sw.js":73107,"./ta":72304,"./ta.js":72304,"./te":72550,"./te.js":72550,"./tet":99717,"./tet.js":99717,"./tg":87669,"./tg.js":87669,"./th":94959,"./th.js":94959,"./tk":92661,"./tk.js":92661,"./tl-ph":52234,"./tl-ph.js":52234,"./tlh":94120,"./tlh.js":94120,"./tr":81111,"./tr.js":81111,"./tzl":53080,"./tzl.js":53080,"./tzm":88246,"./tzm-latn":25385,"./tzm-latn.js":25385,"./tzm.js":88246,"./ug-cn":48777,"./ug-cn.js":48777,"./uk":2014,"./uk.js":2014,"./ur":45953,"./ur.js":45953,"./uz":89716,"./uz-latn":87791,"./uz-latn.js":87791,"./uz.js":89716,"./vi":99816,"./vi.js":99816,"./x-pseudo":94450,"./x-pseudo.js":94450,"./yo":22556,"./yo.js":22556,"./zh-cn":7414,"./zh-cn.js":7414,"./zh-hk":50824,"./zh-hk.js":50824,"./zh-mo":88589,"./zh-mo.js":88589,"./zh-tw":63285,"./zh-tw.js":63285};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=96616}}]);